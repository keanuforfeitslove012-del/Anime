<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DOOMSDAY 2026</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Impact,Arial Black,sans-serif}
body{background:url(https://kimi-web-img.moonshot.cn/img/images5.alphacoders.com/7330b86c73698afcbf02f97bd73ea3d4ad272e5b.jpeg)center/cover fixed #000;color:#fff;min-height:100vh;text-transform:uppercase;font-size:14px}
.overlay{background:rgba(0,0,0,.9);min-height:100vh;padding:10px}
.container{max-width:1200px;margin:0 auto}
h1{text-align:center;font-size:2em;text-shadow:0 0 20px #f00;background:linear-gradient(180deg,#f00,#800);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav{display:flex;gap:5px;justify-content:center;margin:10px 0;flex-wrap:wrap;position:sticky;top:0;z-index:100;background:rgba(0,0,0,.9);padding:5px;border:2px solid #f00}
.nav button{padding:8px 12px;background:#800;border:none;color:#fff;cursor:pointer;font-size:.8em}
.nav button.active{background:#ffd700;color:#000}
.card{background:rgba(80,0,0,.3);padding:15px;margin:10px 0;border:2px solid #f00}
input,select,button{width:100%;padding:10px;margin:5px 0;border:1px solid #f00;background:#000;color:#fff;font-size:14px}
button{background:#f00;cursor:pointer}
button:hover{background:#ff4444}
.hidden{display:none}
table{width:100%;border-collapse:collapse;font-size:.8em}
th,td{padding:8px;border:1px solid #800;text-align:center}
th{background:#800;color:#ffd700}
tr:hover{background:rgba(255,0,0,.2)}
.online{width:10px;height:10px;background:#0f0;border-radius:50%;display:inline-block;margin-right:5px;box-shadow:0 0 10px #0f0;animation:b 1s infinite}
.offline{width:10px;height:10px;background:#f00;border-radius:50%;display:inline-block;margin-right:5px;box-shadow:0 0 10px #f00}
@keyframes b{0%,100%{opacity:1}50%{opacity:.3}}
#chat{position:fixed;bottom:10px;right:10px;width:280px;background:#000;border:2px solid #f00;z-index:99}
#chatHeader{padding:10px;background:#f00;cursor:pointer;font-weight:bold}
#chatBody{height:250px;overflow-y:auto;padding:10px;display:none;font-size:.9em}
#chat.open #chatBody{display:block}
.msg{margin:5px 0;padding:8px;background:rgba(80,0,0,.5);border-left:3px solid #f00}
.msg b{color:#ffd700}
#chatInput{display:flex}
#chatInput input{flex:1;margin:0;border-right:none}
#chatInput button{width:70px}
#joinedPanel{background:#000;border:2px solid #ffd700;padding:10px;margin:10px 0;max-height:150px;overflow-y:auto}
#joinedList{display:flex;flex-wrap:wrap;gap:5px}
.warrior{background:#800;border:1px solid #f00;padding:5px 10px;font-size:.8em;display:flex;align-items:center}
.warrior .online,.warrior .offline{margin-right:5px}
.fs{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.95);z-index:1000;padding:20px;display:none;overflow:auto}
.fs.active{display:block}
.close{position:fixed;top:10px;right:10px;background:#f00;border:none;padding:10px 20px;font-size:1.2em;z-index:1001;cursor:pointer}
#notify{position:fixed;top:10px;left:50%;transform:translateX(-50%);background:#0f0;color:#000;padding:10px 20px;border:2px solid #fff;z-index:10000;display:none;font-weight:bold;animation:p 2s}
@keyframes p{0%{opacity:0;top:0}10%{opacity:1;top:10px}90%{opacity:1;top:10px}100%{opacity:0;top:0}}
</style>
</head>
<body>
<div class="overlay">
<div class="container">
<h1>‚ò†Ô∏è DOOMSDAY 2026 ‚ò†Ô∏è</h1>

<div id="login" class="card">
<h3 style="color:#f00;text-align:center;margin-bottom:15px">ENTER THE WAR ZONE</h3>
<input id="u" placeholder="Username" required>
<input id="c" placeholder="Coach Name" required>
<input id="s" type="number" placeholder="Team Strength" required>
<input id="p" placeholder="Favorite Player" required>
<select id="d" required>
<option value="">Select Division 1-9</option>
<option value="1">1 - GOD</option>
<option value="2">2 - ELITE</option>
<option value="3">3 - MASTER</option>
<option value="4">4 - DIAMOND</option>
<option value="5">5 - PLATINUM</option>
<option value="6">6 - GOLD</option>
<option value="7">7 - SILVER</option>
<option value="8">8 - BRONZE</option>
<option value="9">9 - ROOKIE</option>
</select>
<button onclick="r()" style="font-size:1.2em">JOIN BATTLE</button>
</div>

<div id="dash" class="hidden">
<div class="nav">
<button onclick="t('h')" id="nh">üè† HQ</button>
<button onclick="t('l')" id="nl">üé≤ BATTLE</button>
<button onclick="t('t')" id="nt">‚öîÔ∏è TABLE</button>
<button onclick="t('up')" id="nup">üì∏ REPORT</button>
<button onclick="t('g')" id="ng">üíÄ MEMORIES</button>
<button onclick="t('li')" id="nli">üî¥ LIVE</button>
<button onclick="logout()" style="background:#300">EXIT</button>
</div>

<div id="joinedPanel">
<h4 style="color:#ffd700;margin-bottom:10px">‚öîÔ∏è JOINED WARRIORS (<span id="jc">0</span>)</h4>
<div id="joinedList">Loading...</div>
</div>

<div id="h" class="card">
<h3 style="color:#ffd700">Commander: <span id="wn"></span></h3>
<p style="margin-top:10px">Division: <b id="sd">-</b> | Strength: <b id="ss">-</b> | Points: <b id="sp">0</b> | Rank: <b id="sr">-</b></p>
<p style="color:#f00;margin-top:10px;font-size:.9em">"Only the strong survive..."</p>
</div>

<div id="l" class="card hidden">
<h3 style="text-align:center;color:#f00">‚ò†Ô∏è DOOMSDAY DRAW ‚ò†Ô∏è</h3>
<p style="text-align:center;margin:10px 0;font-size:.9em">Click to summon your opponent</p>
<div onclick="sp()" id="spinBox" style="width:150px;height:150px;margin:20px auto;background:radial-gradient(#800,#000);border:4px solid #f00;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:3em;cursor:pointer;box-shadow:0 0 40px #f00;transition:.3s">‚ò†Ô∏è</div>
<div id="mr" style="text-align:center"></div>
</div>

<div id="t" class="card hidden" onclick="fs()" style="cursor:pointer">
<h3 style="color:#ffd700">üìä TOURNAMENT TABLE <small style="color:#888;font-size:.7em">(TAP TO EXPAND)</small></h3>
<div style="overflow-x:auto;margin-top:10px">
<table>
<thead><tr><th>Rank</th><th>Warrior</th><th>Div</th><th>P</th><th>W</th><th>D</th><th>L</th><th>GD</th><th>Pts</th></tr></thead>
<tbody id="st"></tbody>
</table>
</div>
</div>

<div id="up" class="card hidden">
<h3 style="color:#f00">üì∏ SUBMIT BATTLE RESULT</h3>
<input id="p1" readonly style="background:#333">
<input id="p2" placeholder="Opponent Name">
<div style="display:flex;gap:10px">
<input id="sc1" type="number" placeholder="Your Score" style="flex:1">
<input id="sc2" type="number" placeholder="Their Score" style="flex:1">
</div>
<input type="file" id="ss" accept="image/*" onchange="pr(this)" style="padding:5px">
<img id="prv" style="max-width:100%;display:none;margin:10px 0;border:3px solid #f00;max-height:200px">
<button onclick="sub()" style="font-size:1.1em">SUBMIT RESULT</button>
</div>

<div id="g" class="card hidden">
<h3 style="color:#ffd700;text-align:center">üíÄ THE MEMORIES WE HAVE MADE üíÄ</h3>
<div id="gal" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px"></div>
</div>

<div id="li" class="card hidden">
<h3 style="color:#0f0">üî¥ LIVE BATTLE FEED</h3>
<div id="lf" style="margin-top:10px;max-height:400px;overflow-y:auto"></div>
</div>
</div>

<div class="fs" id="fst">
<button class="close" onclick="fs()">‚úï CLOSE</button>
<h2 style="text-align:center;color:#ffd700;margin:20px">‚öîÔ∏è FULL TOURNAMENT STANDINGS ‚öîÔ∏è</h2>
<table style="font-size:1.1em">
<thead><tr><th>Position</th><th>Warrior</th><th>Div</th><th>Played</th><th>Won</th><th>Drawn</th><th>Lost</th><th>GF</th><th>GA</th><th>GD</th><th>Points</th></tr></thead>
<tbody id="fstb"></tbody>
</table>
</div>

<div id="chat">
<div id="chatHeader" onclick="togChat()">üí¨ WARRIOR CHAT <span id="cc" style="background:#fff;color:#f00;padding:2px 6px;border-radius:10px;font-size:.8em;display:none">0</span></div>
<div id="chatBody">
<div id="msgs" style="margin-bottom:10px"></div>
<div id="chatInput">
<input id="minp" placeholder="Type message..." onkeypress="if(event.key==='Enter')snd()">
<button onclick="snd()">SEND</button>
</div>
</div>
</div>

<div id="notify"></div>

</div>
</div>

<script>
const D={p:[],g:[],f:[]};
let U=null,C=0,spinning=false;

function init(){
const saved=localStorage.getItem('doom');
const user=localStorage.getItem('user');
const chat=localStorage.getItem('chat');
if(saved){
const x=JSON.parse(saved);
D.p=x.p||[];
D.g=x.g||[];
D.f=x.f||[];
}
if(chat)D.f=JSON.parse(chat);
if(user){
U=JSON.parse(user);
sh();
}
upj();
up();
sf();
setInterval(()=>{bo();upj();up()},2000);
setInterval(cl,1000);
window.addEventListener('storage',e=>{
if(e.key==='doom'){const x=JSON.parse(e.newValue||'{}');D.p=x.p||D.p;D.g=x.g||D.g;upj();up()}
if(e.key==='chat'){cl()}
})
bo();
}

function bo(){
if(!U)return;
const o=JSON.parse(localStorage.getItem('online')||'[]');
const idx=o.findIndex(x=>x&&x.u===U.u);
const data={u:U.u,c:U.c,d:U.d,t:Date.now()};
if(idx>-1){o[idx]=data}else{o.push(data)}
localStorage.setItem('online',JSON.stringify(o));
}

function upj(){
const o=JSON.parse(localStorage.getItem('online')||'[]');
const now=Date.now();
const active=o.filter(x=>x&&now-x.t<10000);
const list=document.getElementById('joinedList');
const count=document.getElementById('jc');
count.textContent=D.p.length;
if(D.p.length===0){list.innerHTML='<span style="color:#666">No warriors yet...</span>';return}
list.innerHTML=D.p.map(p=>{
const on=active.find(x=>x&&x.u===p.u);
const status=on?'<span class="online" title="Online"></span>':'<span class="offline" title="Offline"></span>';
const you=p.u===U?.u?' <b style="color:#ffd700">(YOU)</b>':'';
return`<span class="warrior">${status}${p.c}${you} <small style="color:#888">[D${p.d}]</small></span>`;
}).join('');
}

function r(){
const u=document.getElementById('u').value.trim();
const c=document.getElementById('c').value.trim();
const s=parseInt(document.getElementById('s').value);
const p=document.getElementById('p').value.trim();
const d=parseInt(document.getElementById('d').value);
if(!u||!c||!s||!p||!d)return alert('FILL ALL FIELDS!');
const exists=D.p.find(x=>x.u===u);
if(exists){
U=exists;
sv();
sh();
return;
}
U={u,c,s,p,d,pl:0,w:0,dr:0,l:0,gf:0,ga:0,gd:0,pts:0};
D.p.push(U);
sv();
sh();
add(`${c} [Div ${d}] joined the tournament!`);
notif(`Welcome ${c}! You joined Division ${d}`);
}

function sv(){
localStorage.setItem('doom',JSON.stringify(D));
localStorage.setItem('user',JSON.stringify(U));
}

function sh(){
document.getElementById('login').classList.add('hidden');
document.getElementById('dash').classList.remove('hidden');
document.getElementById('wn').textContent=U.c;
document.getElementById('p1').value=U.c;
document.getElementById('sd').textContent=U.d;
document.getElementById('ss').textContent=U.s;
document.getElementById('sp').textContent=U.pts;
ur();
t('h');
gl();
}

function ur(){
const s=D.p.sort((a,b)=>b.pts-a.pts||b.gd-a.gd);
const i=s.findIndex(x=>x.u===U.u);
document.getElementById('sr').textContent=i>-1?'#'+(i+1):'-';
}

function t(x){
['h','l','t','up','g','li'].forEach(y=>{
document.getElementById(y).classList.add('hidden');
document.getElementById('n'+y)?.classList.remove('active');
});
document.getElementById(x).classList.remove('hidden');
document.getElementById('n'+x)?.classList.add('active');
if(x==='t')up();
if(x==='g')gl();
}

function fs(){
document.getElementById('fst').classList.toggle('active');
up();
}

function sp(){
if(spinning||D.p.length<2)return;
spinning=true;
const b=document.getElementById('spinBox');
const m=document.getElementById('mr');
b.style.transform='scale(1.2)';
b.style.boxShadow='0 0 80px #f00';
let spins=0;
const int=setInterval(()=>{
b.style.transform=`rotate(${spins*360}deg) scale(1.2)`;
spins++;
if(spins>3){
clearInterval(int);
b.style.transform='scale(1)';
b.style.boxShadow='0 0 40px #f00';
const e=D.p.filter(x=>x.u!==U.u);
const o=e[Math.floor(Math.random()*e.length)];
m.innerHTML=`<div style="background:#000;border:3px solid #f00;padding:15px;margin:15px 0;display:flex;justify-content:space-between;align-items:center"><div><div style="color:#0f0;font-size:.8em">YOU</div><b>${U.c}</b><br><small>Div ${U.d}</small></div><div style="color:#ffd700;font-size:2em;font-weight:bold">VS</div><div><div style="color:#f00;font-size:.8em">ENEMY</div><b>${o.c}</b><br><small>Div ${o.d}</small></div></div><button onclick="document.getElementById('p2').value='${o.c}';t('up')" style="background:#ffd700;color:#000;font-size:1.1em">REPORT RESULT</button>`;
spinning=false;
}
},500);
}

function up(){
const s=D.p.sort((a,b)=>b.pts-a.pts||b.gd-a.gd);
const o=JSON.parse(localStorage.getItem('online')||'[]');
const now=Date.now();
const rows=s.map((p,i)=>{
const on=o.find(x=>x&&x.u===p.u&&now-x.t<10000);
const status=on?'<span class="online"></span>':'<span class="offline"></span>';
const style=i===0?'background:linear-gradient(90deg,#ffd700,#ffed4e);color:#000;font-weight:bold':i===1?'background:linear-gradient(90deg,#c0c0c0,#e8e8e8);color:#000':i===2?'background:linear-gradient(90deg,#cd7f32,#daa520);color:#000':'';
return`<tr style="${style}"><td>${i+1}</td><td>${status}${p.c}</td><td>${p.d}</td><td>${p.pl}</td><td>${p.w}</td><td>${p.dr}</td><td>${p.l}</td><td style="color:${p.gd>0?'#0f0':p.gd<0?'#f00':'#fff'}">${p.gd>0?'+':''}${p.gd}</td><td><b>${p.pts}</b></td></tr>`;
}).join('');
document.getElementById('st').innerHTML=rows;
document.getElementById('fstb').innerHTML=s.map((p,i)=>{
const style=i===0?'background:#ffd700;color:#000;font-weight:bold':i===1?'background:#c0c0c0;color:#000':i===2?'background:#cd7f32;color:#000':'';
return`<tr style="${style}"><td>${i+1}</td><td>${p.c}</td><td>${p.d}</td><td>${p.pl}</td><td>${p.w}</td><td>${p.dr}</td><td>${p.l}</td><td>${p.gf}</td><td>${p.ga}</td><td>${p.gd>0?'+':''}${p.gd}</td><td style="font-size:1.3em">${p.pts}</td></tr>`;
}).join('');
}

function pr(i){
const f=i.files[0];
if(f){
const r=new FileReader();
r.onload=e=>{
document.getElementById('prv').src=e.target.result;
document.getElementById('prv').style.display='block';
};
r.readAsDataURL(f);
}
}

function sub(){
const p2=document.getElementById('p2').value.trim();
const s1=parseInt(document.getElementById('sc1').value);
const s2=parseInt(document.getElementById('sc2').value);
const im=document.getElementById('prv').src;
if(!p2||isNaN(s1)||isNaN(s2))return alert('ENTER ALL SCORES!');
if(!im||im==='')return alert('UPLOAD SCREENSHOT!');
const a=D.p.find(x=>x.c===U.c);
const b=D.p.find(x=>x.c===p2);
if(!b)return alert('OPPONENT NOT FOUND! REGISTER FIRST!');
a.pl++;b.pl++;
a.gf+=s1;a.ga+=s2;
b.gf+=s2;b.ga+=s1;
a.gd=a.gf-a.ga;
b.gd=b.gf-b.ga;
let res,w;
if(s1>s2){a.w++;a.pts+=3;w=U.c;res=`${U.c} BEAT ${p2}`}
else if(s2>s1){b.w++;b.pts+=3;w=p2;res=`${p2} DEFEATED ${U.c}`}
else{a.dr++;b.dr++;a.pts++;b.pts++;w='Draw';res=`DRAW: ${U.c} vs ${p2}`}
D.g.push({p1:U.c,p2,s1,s2,im,w,d:Date.now()});
sv();
add(`${res} ${s1}-${s2}!`);
notif(`Result submitted: ${s1}-${s2}`);
ur();
up();
gl();
t('t');
document.getElementById('p2').value='';
document.getElementById('sc1').value='';
document.getElementById('sc2').value='';
document.getElementById('prv').style.display='none';
document.getElementById('ss').value='';
}

function gl(){
const gal=document.getElementById('gal');
if(D.g.length===0){gal.innerHTML='<p style="color:#666;text-align:center;grid-column:1/-1">NO MEMORIES YET. FIGHT!</p>';return}
gal.innerHTML=D.g.slice().reverse().map(x=>`
<div style="border:2px solid #f00;position:relative;background:#000">
<img src="${x.im}" style="width:100%;height:150px;object-fit:cover;display:block">
<div style="padding:8px;font-size:.8em">
<div style="color:${x.w===x.p1?'#0f0':'#f00'};font-weight:bold">${x.p1} ${x.s1} - ${x.s2} ${x.p2}</div>
<small style="color:#888">Winner: ${x.w}</small>
</div>
</div>`).join('');
}

function add(m){
const t=new Date().toLocaleTimeString();
const msg={t,m,u:U?U.c:'SYSTEM'};
D.f.unshift(msg);
if(D.f.length>50)D.f.pop();
localStorage.setItem('doom',JSON.stringify(D));
sf();
const ch=JSON.parse(localStorage.getItem('chat')||'[]');
ch.push({...msg,ts:Date.now()});
localStorage.setItem('chat',JSON.stringify(ch.slice(-50)));
}

function sf(){
document.getElementById('lf').innerHTML=D.f.map(x=>`<div class="msg"><b style="color:${x.u===U?.c?'#0f0':'#ffd700'}">${x.u}</b> <small style="color:#888">[${x.t}]</small><br>${x.m}</div>`).join('');
}

function togChat(){
const c=document.getElementById('chat');
c.classList.toggle('open');
if(c.classList.contains('open')){
document.getElementById('cc').style.display='none';
C=0;
document.getElementById('minp').focus();
}
}

function cl(){
const ch=JSON.parse(localStorage.getItem('chat')||'[]');
const msgs=document.getElementById('msgs');
const current=msgs.children.length;
if(ch.length>current){
const newMsg=ch.slice(current);
newMsg.forEach(x=>{
const div=document.createElement('div');
div.className='msg';
div.innerHTML=`<b style="color:${x.u===U?.c?'#0f0':'#ffd700'}">${x.u}</b> <small style="color:#888">[${x.t}]</small><br>${x.m}`;
msgs.appendChild(div);
});
msgs.scrollTop=msgs.scrollHeight;
if(!document.getElementById('chat').classList.contains('open')){
C+=newMsg.length;
document.getElementById('cc').textContent=C;
document.getElementById('cc').style.display='inline';
}
}
}

function snd(){
const inp=document.getElementById('minp');
const m=inp.value.trim();
if(!m||!U)return;
inp.value='';
const t=new Date().toLocaleTimeString();
const ch=JSON.parse(localStorage.getItem('chat')||'[]');
ch.push({t,m,u:U.c,ts:Date.now()});
localStorage.setItem('chat',JSON.stringify(ch.slice(-50)));
cl();
}

function notif(m){
const n=document.getElementById('notify');
n.textContent=m;
n.style.display='block';
setTimeout(()=>n.style.display='none',3000);
}

function logout(){
U=null;
localStorage.removeItem('user');
location.reload();
}

window.onload=init;
</script>
</body>
</html>
